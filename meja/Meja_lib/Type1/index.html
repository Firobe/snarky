<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Type1 (meja.Meja_lib.Type1)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">meja</a> &#x00BB; <a href="../index.html">Meja_lib</a> &#x00BB; Type1</nav><header class="odoc-preamble"><h1>Module <code><span>Meja_lib.Type1</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-error" class="anchored"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span><span> = </span></code><table><tr id="type-error.Mk_wrong_mode" class="anchored"><td class="def variant constructor"><a href="#type-error.Mk_wrong_mode" class="anchor"></a><code><span>| </span><span><span class="constructor">Mk_wrong_mode</span> <span class="keyword">of</span> string * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span> * <a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></td></tr><tr id="type-error.Mk_invalid" class="anchored"><td class="def variant constructor"><a href="#type-error.Mk_invalid" class="anchor"></a><code><span>| </span><span><span class="constructor">Mk_invalid</span> <span class="keyword">of</span> string * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Error" class="anchored"><a href="#exception-Error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Error</span> <span class="keyword">of</span> <span class="xref-unresolved">Location</span>.t * <a href="#type-error">error</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_mode" class="anchored"><a href="#val-check_mode" class="anchor"></a><code><span><span class="keyword">val</span> check_mode : <span>pos:<span>(string * int * int * int)</span> <span class="arrow">&#45;&gt;</span></span>
<span>error_info:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> string * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_mode" class="anchored"><a href="#val-get_mode" class="anchor"></a><code><span><span class="keyword">val</span> get_mode : <span><a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Get the stitched <code>type_expr</code> in the given mode.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_id" class="anchored"><a href="#val-type_id" class="anchor"></a><code><span><span class="keyword">val</span> type_id : <span>int <span class="xref-unresolved">Core_kernel</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_id" class="anchored"><a href="#val-row_id" class="anchor"></a><code><span><span class="keyword">val</span> row_id : <span>int <span class="xref-unresolved">Core_kernel</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_rp" class="anchored"><a href="#val-mk_rp" class="anchor"></a><code><span><span class="keyword">val</span> mk_rp : <span><a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-repr" class="anchored"><a href="#val-repr" class="anchor"></a><code><span><span class="keyword">val</span> repr : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>The representative of a type. This unfolds any <code>Tref</code> values that are present to get to the true underlying type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rp_repr" class="anchored"><a href="#val-rp_repr" class="anchor"></a><code><span><span class="keyword">val</span> rp_repr : <span><a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rp_strip_subtract" class="anchored"><a href="#val-rp_strip_subtract" class="anchor"></a><code><span><span class="keyword">val</span> rp_strip_subtract : <span><a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_rp_desc_fwd" class="anchored"><a href="#val-set_rp_desc_fwd" class="anchor"></a><code><span><span class="keyword">val</span> set_rp_desc_fwd : <span><span>(<span><a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Core_kernel</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_repr_aux" class="anchored"><a href="#val-row_repr_aux" class="anchor"></a><code><span><span class="keyword">val</span> row_repr_aux : <span><span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-row">Type0.row</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_repr_typ_aux" class="anchored"><a href="#val-row_repr_typ_aux" class="anchor"></a><code><span><span class="keyword">val</span> row_repr_typ_aux : <span><span>(<span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_repr" class="anchored"><a href="#val-row_repr" class="anchor"></a><code><span><span class="keyword">val</span> row_repr : <span><a href="../Type0/index.html#type-row">Type0.row</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_repr_typ" class="anchored"><a href="#val-row_repr_typ" class="anchor"></a><code><span><span class="keyword">val</span> row_repr_typ : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.t, <a href="../Path/index.html#type-t">Path.t</a> * <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>, <span class="xref-unresolved">Meja_lib</span>.Ident.Map.Key.comparator_witness)</span> <span class="xref-unresolved">Core_kernel</span>.Map.t</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-closed_flag">Ast_types.closed_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-checked_none" class="anchored"><a href="#val-checked_none" class="anchor"></a><code><span><span class="keyword">val</span> checked_none : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>An invalid <code>type_expr</code> in checked mode.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prover_none" class="anchored"><a href="#val-prover_none" class="anchor"></a><code><span><span class="keyword">val</span> prover_none : <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>An invalid <code>type_expr</code> in prover mode.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-none" class="anchored"><a href="#val-none" class="anchor"></a><code><span><span class="keyword">val</span> none : <span><a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Chose an invalid <code>type_expr</code> based on the given mode.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-other_none" class="anchored"><a href="#val-other_none" class="anchor"></a><code><span><span class="keyword">val</span> other_none : <span><a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Chose an invalid <code>type_expr</code> for the other mode to the one given.</p><p><code>other_none mode = none (other_mode mode)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_alternate" class="anchored"><a href="#val-type_alternate" class="anchor"></a><code><span><span class="keyword">val</span> type_alternate : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-row_alternate" class="anchored"><a href="#val-row_alternate" class="anchor"></a><code><span><span class="keyword">val</span> row_alternate : <span><a href="../Type0/index.html#type-row">Type0.row</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-row">Type0.row</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_poly" class="anchored"><a href="#val-is_poly" class="anchor"></a><code><span><span class="keyword">val</span> is_poly : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_valid" class="anchored"><a href="#val-is_valid" class="anchor"></a><code><span><span class="keyword">val</span> is_valid : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the <code>type_expr</code> argument is valid, false otherwise. Can be used to check that a type-stitching has been created or modified correctly.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_invalid" class="anchored"><a href="#val-is_invalid" class="anchor"></a><code><span><span class="keyword">val</span> is_invalid : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Equivalent to <code>not (is_valid typ)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Judge equality based on type id.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_valid" class="anchored"><a href="#val-check_valid" class="anchor"></a><code><span><span class="keyword">val</span> check_valid : <span>pos:<span>(string * int * int * int)</span> <span class="arrow">&#45;&gt;</span></span>
<span>error_info:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> string * <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-failure_type_id" class="anchored"><a href="#val-failure_type_id" class="anchor"></a><code><span><span class="keyword">val</span> failure_type_id : <span><span class="xref-unresolved">Core_kernel</span>.Int.t option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk'" class="anchored"><a href="#val-mk'" class="anchor"></a><code><span><span class="keyword">val</span> mk' : <span>mode:<a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Make a new type at the given mode and depth.</p><p>The <code>type_alternate</code> field is set to the invalid value <code>none (other_mode mode)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stitch" class="anchored"><a href="#val-stitch" class="anchor"></a><code><span><span class="keyword">val</span> stitch : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p><code>stitch typ typ'</code> sets <code>typ</code> and <code>typ'</code> as eachothers <code>type_alternate</code>s. Returns the first argument <code>typ</code>.</p><p>Raises <code>AssertionError</code> if the types have the same modes, or if either type has an already-initialised <code>type_alternate</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tri_stitch" class="anchored"><a href="#val-tri_stitch" class="anchor"></a><code><span><span class="keyword">val</span> tri_stitch : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p><code>tri_stitch in_typ ptyp ctyp</code> stitches the prover-mode type <code>ptyp</code> to the checked-mode <code>ctyp</code>, and sets the <code>type_alternate</code> of the checked-mode type <code>in_typ</code> to <code>ptyp</code>.</p><p>This allows <code>in_typ</code> to be the <code>tdec_ret</code> for a type defined in checked mode, so that a round-trip <code>Checked -&gt; Prover -&gt; Checked</code> conversion chain may start and end with different types.</p><p>The canonical example of this is <code>bool -&gt; bool -&gt; boolean</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-are_stitched" class="anchored"><a href="#val-are_stitched" class="anchor"></a><code><span><span class="keyword">val</span> are_stitched : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the types are stitched together, <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mkvar" class="anchored"><a href="#val-mkvar" class="anchor"></a><code><span><span class="keyword">val</span> mkvar : <span>mode:<a href="../Ast_types/index.html#type-mode">Ast_types.mode</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Create a new type variable with the given name.</p><p>The returned type is properly stitched to an equivalent type in the other mode.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Mk" class="anchored"><a href="#module-Mk" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Mk/index.html">Mk</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Constructors for stitched types.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-change" class="anchored"><a href="#type-change" class="anchor"></a><code><span><span class="keyword">type</span> change</span><span> = </span></code><table><tr id="type-change.Depth" class="anchored"><td class="def variant constructor"><a href="#type-change.Depth" class="anchor"></a><code><span>| </span><span><span class="constructor">Depth</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * int</span></code></td></tr><tr id="type-change.Desc" class="anchored"><td class="def variant constructor"><a href="#type-change.Desc" class="anchor"></a><code><span>| </span><span><span class="constructor">Desc</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></span></code></td></tr><tr id="type-change.Replace" class="anchored"><td class="def variant constructor"><a href="#type-change.Replace" class="anchor"></a><code><span>| </span><span><span class="constructor">Replace</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></span></code></td></tr><tr id="type-change.Row_presence" class="anchored"><td class="def variant constructor"><a href="#type-change.Row_presence" class="anchor"></a><code><span>| </span><span><span class="constructor">Row_presence</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a></span></code></td></tr><tr id="type-change.Row_replace" class="anchored"><td class="def variant constructor"><a href="#type-change.Row_replace" class="anchor"></a><code><span>| </span><span><span class="constructor">Row_replace</span> <span class="keyword">of</span> <a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> * <a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_print_change" class="anchored"><a href="#val-debug_print_change" class="anchor"></a><code><span><span class="keyword">val</span> debug_print_change : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-change">change</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Snapshot" class="anchored"><a href="#module-Snapshot" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Snapshot/index.html">Snapshot</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implements a weak, mutable linked-list containing the history of changes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-revert" class="anchored"><a href="#val-revert" class="anchor"></a><code><span><span class="keyword">val</span> revert : <span><a href="#type-change">change</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-backtrack" class="anchored"><a href="#val-backtrack" class="anchor"></a><code><span><span class="keyword">val</span> backtrack : <span><a href="Snapshot/index.html#type-t">Snapshot.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-filtered_backtrack" class="anchored"><a href="#val-filtered_backtrack" class="anchor"></a><code><span><span class="keyword">val</span> filtered_backtrack : <span>f:<span>(<span><a href="#type-change">change</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="Snapshot/index.html#type-t">Snapshot.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span>f:<span>(<span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_desc" class="anchored"><a href="#val-copy_desc" class="anchor"></a><code><span><span class="keyword">val</span> copy_desc : <span>f:<span>(<span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_desc">Type0.type_desc</a></span></code></div><div class="spec-doc"><p>Make a copy of the <code>type_desc</code>, using <code>f</code> as a recursor. Unfolds any references to make a copy of the representative's description.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_at_depth" class="anchored"><a href="#val-equal_at_depth" class="anchor"></a><code><span><span class="keyword">val</span> equal_at_depth : <span>get_decl:<span>(<span><a href="../Path/index.html#type-t">Path.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_decl">Type0.type_decl</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span>depth:int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_depth" class="anchored"><a href="#val-set_depth" class="anchor"></a><code><span><span class="keyword">val</span> set_depth : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_depth" class="anchored"><a href="#val-update_depth" class="anchor"></a><code><span><span class="keyword">val</span> update_depth : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unify_depths" class="anchored"><a href="#val-unify_depths" class="anchor"></a><code><span><span class="keyword">val</span> unify_depths : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_rp_desc" class="anchored"><a href="#val-set_rp_desc" class="anchor"></a><code><span><span class="keyword">val</span> set_rp_desc : <span><a href="../Type0/index.html#type-row_presence">Type0.row_presence</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-row_presence_desc">Type0.row_presence_desc</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_desc" class="anchored"><a href="#val-set_desc" class="anchor"></a><code><span><span class="keyword">val</span> set_desc : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_desc">Type0.type_desc</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_single_replacement" class="anchored"><a href="#val-unsafe_set_single_replacement" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_single_replacement : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_replacement" class="anchored"><a href="#val-set_replacement" class="anchor"></a><code><span><span class="keyword">val</span> set_replacement : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-backtrack_replace" class="anchored"><a href="#val-backtrack_replace" class="anchor"></a><code><span><span class="keyword">val</span> backtrack_replace : <span><a href="Snapshot/index.html#type-t">Snapshot.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Backtrack only undoing the <code>Replace</code> operations since the last snapshot.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_repr" class="anchored"><a href="#val-set_repr" class="anchor"></a><code><span><span class="keyword">val</span> set_repr : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_repr typ typ'</code> sets the representative of <code>typ</code> to be <code>typ'</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-choose_variable_name" class="anchored"><a href="#val-choose_variable_name" class="anchor"></a><code><span><span class="keyword">val</span> choose_variable_name : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>choose_variable_name var typ</code> lifts the type variable name for <code>var</code> into the <code>type_desc</code> for <code>typ</code> when it is also a variable.</p><p>Raises <code>AssertionError</code> if <code>var</code> is not a type variable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_instance" class="anchored"><a href="#val-add_instance" class="anchor"></a><code><span><span class="keyword">val</span> add_instance : <span>unify:<span>(<span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>add_instance var typ'</code> changes the representative of the type variable <code>var</code> to <code>typ'</code>. If <code>typ'</code> is also a type variable, then the user-provided of <code>var</code> is added to <code>typ'</code>, unless <code>typ'</code> already has a user-provided name of its own.</p><p>Raises <code>AssertionError</code> if <code>var</code> is not a type variable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-flatten" class="anchored"><a href="#val-flatten" class="anchor"></a><code><span><span class="keyword">val</span> flatten : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Create an equivalent type by unfolding all of the type representatives.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_vars" class="anchored"><a href="#val-type_vars" class="anchor"></a><code><span><span class="keyword">val</span> type_vars : <span>?depth:int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>, <a href="../Typeset/Set/Elt/index.html#type-comparator_witness">Typeset.Elt.comparator_witness</a>)</span> <span class="xref-unresolved">Core_kernel</span>.Set.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_option" class="anchored"><a href="#val-mk_option" class="anchor"></a><code><span><span class="keyword">val</span> mk_option : <span><span>(<span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>)</span> <span class="xref-unresolved">Core_kernel</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bubble_label_aux" class="anchored"><a href="#val-bubble_label_aux" class="anchor"></a><code><span><span class="keyword">val</span> bubble_label_aux : <span><a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-explicitness">Ast_types.explicitness</a> * <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a>)</span> option</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bubble_label" class="anchored"><a href="#val-bubble_label" class="anchor"></a><code><span><span class="keyword">val</span> bubble_label : <span><a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-discard_optional_labels" class="anchored"><a href="#val-discard_optional_labels" class="anchor"></a><code><span><span class="keyword">val</span> discard_optional_labels : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_arrow" class="anchored"><a href="#val-is_arrow" class="anchor"></a><code><span><span class="keyword">val</span> is_arrow : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_var" class="anchored"><a href="#val-is_var" class="anchor"></a><code><span><span class="keyword">val</span> is_var : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_replace" class="anchored"><a href="#val-is_replace" class="anchor"></a><code><span><span class="keyword">val</span> is_replace : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_replace" class="anchored"><a href="#val-get_replace" class="anchor"></a><code><span><span class="keyword">val</span> get_replace : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_rev_arrow_args" class="anchored"><a href="#val-get_rev_arrow_args" class="anchor"></a><code><span><span class="keyword">val</span> get_rev_arrow_args : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Ast_types/index.html#type-explicitness">Ast_types.explicitness</a> * <a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a>)</span> list</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_implicits" class="anchored"><a href="#val-get_implicits" class="anchor"></a><code><span><span class="keyword">val</span> get_implicits : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>)</span> <span class="xref-unresolved">Core_kernel</span>.List.t</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_rev_implicits" class="anchored"><a href="#val-get_rev_implicits" class="anchor"></a><code><span><span class="keyword">val</span> get_rev_implicits : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast_types/index.html#type-arg_label">Ast_types.arg_label</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a>)</span> list</span> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-contains" class="anchored"><a href="#val-contains" class="anchor"></a><code><span><span class="keyword">val</span> contains : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span>in_:<a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if <code>typ</code> is a strict subtype of <code>in_</code> (i.e. excluding <code>typ == in_</code>), or <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_same_mode" class="anchored"><a href="#val-get_same_mode" class="anchor"></a><code><span><span class="keyword">val</span> get_same_mode : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> * <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Collapse any <code>Tother_mode</code> types until the modes are the same, if possible.</p><p>Checked mode is always preferred over prover mode, so that tri-stitching is retained whenever possible.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_opaques" class="anchored"><a href="#val-remove_opaques" class="anchor"></a><code><span><span class="keyword">val</span> remove_opaques : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Remove any <code>Topaque</code> wrappers, returning the outermost non-opaque type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_mode_changes" class="anchored"><a href="#val-remove_mode_changes" class="anchor"></a><code><span><span class="keyword">val</span> remove_mode_changes : <span><a href="../Type0/index.html#type-type_expr">Type0.type_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Type0/index.html#type-type_expr">Type0.type_expr</a></span></code></div><div class="spec-doc"><p>Remove any <code>Tother_mode</code> wrappers.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Decl" class="anchored"><a href="#module-Decl" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Decl/index.html">Decl</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-report_error" class="anchored"><a href="#val-report_error" class="anchor"></a><code><span><span class="keyword">val</span> report_error : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-error">error</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>